{
    "version": "https://jsonfeed.org/version/1",
    "title": "小码农博客 • All posts by \"mysql\" category",
    "description": null,
    "home_page_url": "http://qiubo.ink",
    "items": [
        {
            "id": "http://qiubo.ink/2017/05/12/mysql%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%8F%8A%E6%9D%83%E9%99%90%E8%AE%BE%E7%BD%AE/",
            "url": "http://qiubo.ink/2017/05/12/mysql%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%8F%8A%E6%9D%83%E9%99%90%E8%AE%BE%E7%BD%AE/",
            "title": "mysql创建用户及权限设置",
            "date_published": "2017-05-12T17:46:19.000Z",
            "content_html": "<h4 id=\"1-grant\"><a href=\"#1-grant\" class=\"headerlink\" title=\"1. grant\"></a>1. grant</h4><p>查看用户权限:</p>\n<ol>\n<li><p><code>show grants;</code> &#x2F;&#x2F; 查看当前用户权限</p>\n</li>\n<li><p><code>show grants for username@localhost;</code> &#x2F;&#x2F; 查看已知用户权限</p>\n</li>\n</ol>\n<h6 id=\"普通权限\"><a href=\"#普通权限\" class=\"headerlink\" title=\"普通权限:\"></a>普通权限:</h6><p>grant 权限 on 数据库对象 to 用户@访问地址 by密码</p>\n<p>权限:<br>    1. select<br>    2. instert<br>    3. update<br>    4. delete</p>\n<h6 id=\"数据库操作权限\"><a href=\"#数据库操作权限\" class=\"headerlink\" title=\"数据库操作权限\"></a>数据库操作权限</h6><p>grant 创建、修改、删除 MySQL 数据表结构权限。</p>\n<p>权限;<br>    1. create<br>    2. alter<br>    3. drop<br>    4. references<br>    5. index</p>\n<h6 id=\"常见数据库命令操作\"><a href=\"#常见数据库命令操作\" class=\"headerlink\" title=\"常见数据库命令操作\"></a>常见数据库命令操作</h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. grant all on *.* to username@&quot;%&quot; by password</span><br><span class=\"line\">2. flush privileges</span><br></pre></td></tr></table></figure>\n<p>创建远程连接的用户,可以访问操作所有数据库</p>\n<p>去除已设定的权限:</p>\n<ol>\n<li><p>在mysql下的user表中去除或更新表内容</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; use mysql;  </span><br><span class=\"line\">&gt; select user,host from user;  </span><br><span class=\"line\">&gt; delete from user where user=&quot;username&quot; and host=&quot;localhost&quot;;  </span><br><span class=\"line\">&gt; update user set host=&quot;&quot; where user=&quot;username&quot;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>revoke</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; revoke all on _._ from username@localhost;</span><br></pre></td></tr></table></figure></li>\n</ol>\n",
            "tags": [
                "mysql"
            ]
        },
        {
            "id": "http://qiubo.ink/2017/05/05/mysql%E5%AD%A6%E4%B9%A0(%E4%BA%8C)/",
            "url": "http://qiubo.ink/2017/05/05/mysql%E5%AD%A6%E4%B9%A0(%E4%BA%8C)/",
            "title": "mysql学习(二)",
            "date_published": "2017-05-05T08:52:46.000Z",
            "content_html": "<h4 id=\"1-排序-order-by\"><a href=\"#1-排序-order-by\" class=\"headerlink\" title=\"1. 排序 order by\"></a>1. 排序 order by</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    mysql&gt; SELCET * FROM table_name ORDER BY author ASC;</span><br></pre></td></tr></table></figure>\n<p>排序:asc正序<br>    desc 倒序</p>\n<p>将table_name表中的数据按照作者名称倒序排列</p>\n<h4 id=\"2-分组\"><a href=\"#2-分组\" class=\"headerlink\" title=\"2. 分组\"></a>2. 分组</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    mysql&gt; select author,count(*) from yable_name group by author;</span><br></pre></td></tr></table></figure>\n<p>将表中数据按照作者名字统计</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    +--------+----------+</span><br><span class=\"line\">    | author | count(*) |</span><br><span class=\"line\">    +--------+----------+</span><br><span class=\"line\">    | Jick   |        1 |</span><br><span class=\"line\">    | John   |        1 |</span><br><span class=\"line\">    | To     |        1 |</span><br><span class=\"line\">    | Tomy   |        2 |</span><br><span class=\"line\">    | 小      |        2 |</span><br><span class=\"line\">    +--------+----------+</span><br></pre></td></tr></table></figure>\n<p>分组数据再归纳</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    mysql&gt; select author,count(*) from table_name group by author with rollup;</span><br><span class=\"line\"></span><br><span class=\"line\">    +--------+----------+</span><br><span class=\"line\">    | author | count(*) |</span><br><span class=\"line\">    +--------+----------+</span><br><span class=\"line\">    | Jick   |        1 |</span><br><span class=\"line\">    | John   |        1 |</span><br><span class=\"line\">    | To     |        1 |</span><br><span class=\"line\">    | Tomy   |        2 |</span><br><span class=\"line\">    | 小      |        2 |</span><br><span class=\"line\">    | NULL   |        7 |</span><br><span class=\"line\">    +--------+----------+</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-连接多个表的查询结果\"><a href=\"#3-连接多个表的查询结果\" class=\"headerlink\" title=\"3. 连接多个表的查询结果\"></a>3. 连接多个表的查询结果</h4><p>a) 创建新数据表并设置外键</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    mysql&gt; create table table_name2(</span><br><span class=\"line\">         &gt; id int not null auto_increment,</span><br><span class=\"line\">         &gt; author_id int not null,</span><br><span class=\"line\">         &gt; comments text not null,</span><br><span class=\"line\">         &gt; create_date date,</span><br><span class=\"line\">         &gt; primary key (id),</span><br><span class=\"line\">         &gt; foreign key (author\\_id) references test\\_table(id),</span><br><span class=\"line\">         &gt; )engine=InnoDB default charset=utf8;</span><br><span class=\"line\"></span><br><span class=\"line\">    mysql&gt; select a.id,a.author,b.comments from table\\_name a inner join table\\_name2 b on a.id = b.author_id;</span><br><span class=\"line\"></span><br><span class=\"line\">    +----+--------+----------+</span><br><span class=\"line\">    | id | author | comments |</span><br><span class=\"line\">    +----+--------+----------+</span><br><span class=\"line\">    |  3 | 小      | like     |</span><br><span class=\"line\">    |  4 | Tomy   | like     |</span><br><span class=\"line\">    |  4 | Tomy   | love     |</span><br><span class=\"line\">    +----+--------+----------+</span><br></pre></td></tr></table></figure>",
            "tags": [
                "mysql",
                "数据库"
            ]
        },
        {
            "id": "http://qiubo.ink/2017/05/05/mysql%E5%AD%A6%E4%B9%A0(%E4%B8%80)/",
            "url": "http://qiubo.ink/2017/05/05/mysql%E5%AD%A6%E4%B9%A0(%E4%B8%80)/",
            "title": "mysql学习(一)",
            "date_published": "2017-05-05T08:52:00.000Z",
            "content_html": "<ol>\n<li><p>创建数据库</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; create database database_name;</span><br></pre></td></tr></table></figure></li>\n<li><p>删除数据库</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; drop database database_name;</span><br></pre></td></tr></table></figure></li>\n<li><p>创建表</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; create table table_name(</span><br><span class=\"line\">          &gt; id int not null auto_increment,</span><br><span class=\"line\">          &gt; author varchar(10) not null,</span><br><span class=\"line\">          &gt; title varchar(50) not null,</span><br><span class=\"line\">          &gt; content text,</span><br><span class=\"line\">          &gt; create_date date,</span><br><span class=\"line\">          &gt; primary key ( id )</span><br><span class=\"line\">          &gt; )engine=InnoDB default charset=utf8;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>创建id为整型,不为空,自动增加</p>\n</li>\n<li><p>作者为长度为10的字符串,不为空</p>\n</li>\n<li><p>标题为不为空的长度为100的字符串</p>\n</li>\n<li><p>内容为长文本类型</p>\n</li>\n<li><p>创建时间为时间类型</p>\n</li>\n<li><p>设置id为主键</p>\n</li>\n<li><p>设置mysql存储引擎为InnoDB,字符集为utf-8</p>\n</li>\n<li><p>删除表</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; drop table table_name;</span><br></pre></td></tr></table></figure>\n<p>删除table_name的表</p>\n</li>\n<li><p>增加数据</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; insert into table_name</span><br><span class=\"line\">          &gt; (author,title,content,create_date)</span><br><span class=\"line\">          &gt; values</span><br><span class=\"line\">          &gt; (&#x27;Tomy&#x27;,&#x27;Read book&#x27;,&#x27;&#x27;,now());</span><br></pre></td></tr></table></figure>\n<p>增加数据作者为Tomy 标题为Read book 内容为null 时间为当前时间</p>\n</li>\n<li><p>查询数据</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; select id,author,title,create_date</span><br><span class=\"line\">          &gt; from table_name</span><br><span class=\"line\">          &gt; where id &gt; 2 limit 2 offset 5;</span><br><span class=\"line\">     // binary 区分大小写匹配</span><br><span class=\"line\">     // limit 限制显示数据条数</span><br><span class=\"line\">     // offset 数据偏移条数</span><br></pre></td></tr></table></figure>\n<p>查询id 大于2的行,展示从第6条开始的两条数据的id,作者,标题,创建时间</p>\n</li>\n<li><p>删除数据</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; delete from test_table where id = 1;</span><br></pre></td></tr></table></figure>\n<p>删除id为1的数据行</p>\n<p>注:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; dalete from test_table;</span><br></pre></td></tr></table></figure>\n<p>没有注明查询条件的话,默认清空当前表中所有数据</p>\n</li>\n<li><p>修改数据</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; update table_name set author=&#x27;New data&#x27; where id = 2;</span><br></pre></td></tr></table></figure>\n<p>修改id为2行的作者为New data</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; update table_name set author=&#x27;New name&#x27;,title=&#x27;Learning&#x27; where id =3;</span><br></pre></td></tr></table></figure>\n<p>修改id为3的数据行的作者和标题</p>\n</li>\n<li><p><code>Like</code> 查询模糊数据<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; select * from table_name where author like &#x27;%o&#x27;;</span><br></pre></td></tr></table></figure><br>查询table_name表中作者字段以字母o结尾的数据<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">     mysql&gt; select * from table_name where author like &#x27;t%&#x27;;</span><br></pre></td></tr></table></figure><br>查询table_name表中作者字段以字母t起始的数据</p>\n</li>\n<li><p><code> union </code>查询语句<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from table_name where author like &#x27;www%&#x27;</span><br><span class=\"line\">     &gt; union all</span><br><span class=\"line\">     &gt; select * from table_name where author like &#x27;%cn&#x27;;</span><br></pre></td></tr></table></figure><br>union 两个参数:all 输出所有查询结果,包括重复数据</p>\n</li>\n</ol>\n<pre><code>         :distinct 排除重复数据并输出(默认值)\n</code></pre>\n",
            "tags": [
                "mysql",
                "数据库"
            ]
        },
        {
            "id": "http://qiubo.ink/2017/03/28/Debian%E4%B8%8B%E5%AE%89%E8%A3%85mysql,%E5%8F%8A%E8%AE%BF%E9%97%AE%E9%85%8D%E7%BD%AE/",
            "url": "http://qiubo.ink/2017/03/28/Debian%E4%B8%8B%E5%AE%89%E8%A3%85mysql,%E5%8F%8A%E8%AE%BF%E9%97%AE%E9%85%8D%E7%BD%AE/",
            "title": "Debian下安装mysql,及访问配置",
            "date_published": "2017-03-28T09:12:50.000Z",
            "content_html": "<ol>\n<li><p>使用 <code>putty</code> 连接服务器  </p>\n</li>\n<li><p>直接运行 <code>apt-get install mysql-server mysql-client</code></p>\n</li>\n<li><p>安装完成后,即可自动运行</p>\n</li>\n<li><p>外部不能访问:</p>\n<p>修改 <code>mysql</code> 配置文件 <code>my.conf</code></p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">bind-address</span> = <span class=\"number\">127.0</span>.<span class=\"number\">0.1</span></span><br></pre></td></tr></table></figure>\n<p>修改为:</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">bind-address</span> = <span class=\"number\">0.0</span>.<span class=\"number\">0.0</span> 或者 行前加 <span class=\"comment\"># 号注释该行</span></span><br></pre></td></tr></table></figure></li>\n<li><p>重启mysql</p>\n</li>\n<li><p>赋予远程访问权限</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql &gt; GRANT ALL ON *.* TO <span class=\"string\">&#x27;root&#x27;</span>@<span class=\"string\">&#x27;%&#x27;</span> IDENTIFIED BY <span class=\"string\">&#x27;root_password&#x27;</span> WITH GRANT OPTION;</span><br></pre></td></tr></table></figure></li>\n<li><p>修改默认用户名密码</p>\n</li>\n<li><p><code>mysql&gt; UPDATE user SET Password=PASSWORD(’newpassword’) where USER=’root’</code> </p>\n</li>\n<li><p><code>mysql&gt; FLUSH PRIVILEGES; </code></p>\n</li>\n</ol>\n<p>此时即可远程访问mysql数据库,进行管理.</p>\n",
            "tags": [
                "服务器环境配置mysql"
            ]
        }
    ]
}