{
    "version": "https://jsonfeed.org/version/1",
    "title": "小码农博客 • All posts by \"linux\" category",
    "description": null,
    "home_page_url": "http://qiubo.ink",
    "items": [
        {
            "id": "http://qiubo.ink/2018/09/25/Linux%E6%89%8B%E5%8A%A8%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98/",
            "url": "http://qiubo.ink/2018/09/25/Linux%E6%89%8B%E5%8A%A8%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98/",
            "title": "Linux手动释放内存",
            "date_published": "2018-09-25T14:09:08.000Z",
            "content_html": "<p>正常情况linux 下是不需要手动内存释放的,但是使用图形界面的时候部分程序的确占用较大内存，但又需要释放的时候就需要用到手动释放了．</p>\n<h3 id=\"1-查看内存\"><a href=\"#1-查看内存\" class=\"headerlink\" title=\"1. 查看内存\"></a>1. 查看内存</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> /proc/sys/vm/drop_caches</span><br><span class=\"line\"><span class=\"comment\"># 0</span></span><br><span class=\"line\"><span class=\"comment\"># 0 – 不释放</span></span><br><span class=\"line\"><span class=\"comment\"># 1 – 释放页缓存</span></span><br><span class=\"line\"><span class=\"comment\"># 2 – 释放dentries和inodes</span></span><br><span class=\"line\"><span class=\"comment\"># 3 – 释放所有缓存</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sync</span></span><br><span class=\"line\"><span class=\"comment\"># sync 命令运行 sync 子例程。如果必须停止系统，则运行 sync 命令以确保文件系统的完整性。</span></span><br><span class=\"line\"></span><br><span class=\"line\">$&gt; free -m </span><br><span class=\"line\">              total        used        free      shared  buff/cache   available</span><br><span class=\"line\"> Mem:           7929        5876         502         128        1549        1649</span><br><span class=\"line\"> Swap:             0           0           0</span><br><span class=\"line\"><span class=\"comment\"># total——总物理内存</span></span><br><span class=\"line\"><span class=\"comment\"># used——已使用内存，一般情况这个值会比较大，因为这个值包括了cache+应用程序使用的内存</span></span><br><span class=\"line\"><span class=\"comment\"># free——完全未被使用的内存</span></span><br><span class=\"line\"><span class=\"comment\"># shared——应用程序共享内存</span></span><br><span class=\"line\"><span class=\"comment\"># buffers——缓存，主要用于目录方面,inode值等（ls大目录可看到这个值增加）</span></span><br><span class=\"line\"><span class=\"comment\"># cached——缓存，用于已打开的文件</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-释放内存\"><a href=\"#2-释放内存\" class=\"headerlink\" title=\"2. 释放内存\"></a>2. 释放内存</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> 1 &gt; /proc/sys/vm/drop_caches</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\">#              total        used        free      shared  buff/cache   available</span></span><br><span class=\"line\"><span class=\"comment\"># Mem:           7929        5902        1375         129         650        1628</span></span><br><span class=\"line\"><span class=\"comment\"># Swap:             0           0           0</span></span><br></pre></td></tr></table></figure>\n<p>内存已经释放掉了</p>\n",
            "tags": [
                "linux",
                "内存"
            ]
        }
    ]
}